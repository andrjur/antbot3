# AntBot - Телеграм-бот для образовательных курсов

## Описание

AntBot - это Telegram-бот, разработанный для предоставления образовательных курсов пользователям. Бот позволяет пользователям активировать курсы с помощью кодовых слов, получать уроки, отправлять домашние задания и взаимодействовать с поддержкой.

## Содержание

1. [Основные функции](#основные-функции)
2. [Структура базы данных](#структура-базы-данных)
3. [Система состояний пользователя](#система-состояний-пользователя)
4. [Интеграция с AI-агентом](#интеграция-с-ai-агентом)
5. [Команды бота](#команды-бота)
6. [Установка и настройка](#установка-и-настройка)
7. [Структура проекта](#структура-проекта)
8. [Лицензия](#лицензия)

---

## Основные функции

### Для пользователей:

- **Регистрация и активация курсов:** Активация курсов с помощью кодовых слов.
- **Получение уроков:** Автоматическая доставка уроков из канала с контентом.
- **Отслеживание прогресса:** Просмотр своего прогресса по каждому курсу.
- **Отправка домашних заданий:** Возможность отправлять домашние задания для проверки.
- **Поддержка:** Прямая связь с администраторами через систему поддержки.

### Для администраторов:

- **Управление курсами:** Создание и настройка курсов, уроков и версий курсов (тарифов).


любое можно
## Разметка контента

Каждый урок должен быть размечен специальными метками. Эти метки помогают боту автоматически определять начало и конец урока.

### Пример разметки:
*START_LESSON 1
Текст первого урока...
Изображение или видео...
*END_LESSON 1

*START_LESSON 2
Текст второго урока...
Документы или ссылки...
*END_LESSON 2

*HW_START
Домашнее задание к уроку 1...
*HW_END

### Возможные метки:
- *START_LESSON <номер> — начало урока.
- *END_LESSON <номер> — конец урока.
- *HW_START — начало домашнего задания.
- *HW_END — конец домашнего задания.
- *QUIZ_START — начало теста.
- *QUIZ_END — конец теста.

*COURSE_END — вот важная штука. когда она приходит - курс переструктурируется и идёт сообщение админам "зиккурат построен мой господин"


это может быть как в том же сообщении так и отдельные сообщения - оно там потом само склеится

- **Проверка домашних заданий:** Интерфейс для проверки и обратной связи по домашним заданиям.
- **Коммуникация с пользователями:** Возможность отвечать на запросы поддержки.
- **Аналитика:** Отслеживание активности пользователей и прогресса по курсам.

## Структура базы данных

Бот использует SQLite для хранения данных 


## Интеграция с AI-агентом

Бот включает интеграцию с AI-агентом для обработки запросов поддержки. Сообщения пользователей пересылаются в административную группу, где они могут быть обработаны администраторами или AI-ассистентом.

## Команды бота

- `/start` - Начать работу с ботом
- `/help` - Показать список доступных команд
- `/activate` - Активировать курс по коду
- `/mycourses` - Показать активные курсы пользователя
- `/lesson` - Получить текущий урок
- `/progress` - Показать прогресс обучения
- `/support` - Связаться с поддержкой


Логика работы админ-панели:
Админ вызывает команду /admin в личном чате с ботом.
Бот предоставляет кнопки для просмотра списка курсов.
Админ выбирает курс для редактирования.
Бот отображает информацию о курсе и список уроков.
Админ может редактировать теги урока, удалять урок или добавлять новый урок.
При редактировании тегов бот запрашивает новые теги в виде списка, разделенного запятыми.


## Установка и настройка

### Требования

- Python 3.12
- Библиотеки из `requirements.txt`

### Настройка окружения

1. Клонируйте репозиторий:

    ```
    git clone https://github.com/andrjur/antbot3
    cd antbot3
    ```

2. Установите зависимости:

    ```
    pip install -r requirements.txt
    ```

3. Создайте файл `.env` с переменными окружения:

    ```
    BOT_TOKEN=ваш_токен_бота
    ADMIN_IDS=id1,id2,id3
    ADMIN_GROUP_ID=id_группы_администраторов

    ```

4. Запустите бота:

    ```
    python main.py
    ```

    # Этот файл
```

## Лицензия

Проект распространяется под лицензией MIT.








*Курс База*

*Описание курса:*
Знай, что ты обладаешь уникальным источником радости и мудрости. Это твоё, самое ценное. Это твоя внутренняя сила. Она всегда с тобой, даже если ты думаешь, что нет. Давай вместе поищем это состояние силы, радости и проявленности.

Если ты устал быть кем-то другим, скрывая свою истинную сущность, и страдаешь от того, что не можешь показать другим себя настоящего.

Ты станешь более чувствительным, нежным, перестанешь бояться сам себя и своей внутренней энергии, эмоций, а люди будут смотреть на тебя с интересом и восхищением.

Курс состоит из 4 заданий, большая часть из которых медитации.
В медитациях, подключаясь к бессознательному, ты возвращаешь "заснувшие части психики" и избавляешься от сильных негативных эмоций, тормозящих твоё проявление.

*Тарифы:*
Базовый: 1500 руб. — доступ к основным материалам
Расширенный: 3000 руб. — доступ к основным материалам и обратная связь по домашним заданиям
Premium: 6500 руб. — все материалы + персональный наставник при работе с курсом

*Программа курса:*

1 вступление
2 материалы архивов
3 актуалочка
4 закреплялочка

*Что вы получите:*
Доступ к своей внутренней силе и сексуальности через упражнения курса.
Набор уникальных медитаций, разработанный специально для курса, чтобы работать со сложными чувствами и регулировать своё состояние.
Объяснение:

*Курс <Название курса>*: Обязательно. Начинает сообщение и позволяет извлечь название курса для записи в БД.

*Описание курса:*: Обязательно. Этот текст используется для извлечения сниппета (краткого описания) курса. Все, что находится между *Описание курса:* и *Тарифы:*, будет считаться сниппетом.

*Тарифы:*: Обязательно. Используется для определения конца сниппета.

*Программа курса:*: Обязательно. Используется для определения программы курса.

*Что вы получите:*: Обязательно.

Ключевые моменты:

Порядок меток важен: *Курс ...*, *Описание курса:*, *Тарифы:* должны идти в указанном порядке.

В сниппет попадет весь текст между *Описание курса:* и *Тарифы:*.

Регистр меток важен. Используйте *Описание курса:*, а не *описание курса:*.

Внутри разделов *Тарифы:*, *Программа курса:*, *Что вы получите:* можно использовать любой текст, но сами метки должны присутствовать.