# AntBot - Телеграм-бот для образовательных курсов

## Описание

AntBot - это Telegram-бот, разработанный для предоставления образовательных курсов пользователям. Бот позволяет пользователям активировать курсы с помощью кодовых слов, получать уроки, отправлять домашние задания и взаимодействовать с поддержкой.

## Основные функции

### Для пользователей:
- **Регистрация и активация курсов**: Пользователи могут активировать курсы с помощью специальных кодовых слов
- **Получение уроков**: Автоматическая доставка уроков из канала с контентом
- **Отслеживание прогресса**: Пользователи могут видеть свой прогресс по каждому курсу
- **Отправка домашних заданий**: Возможность отправлять домашние задания для проверки
- **Поддержка**: Прямая связь с администраторами через систему поддержки

### Для администраторов:
- **Управление курсами**: Создание и настройка курсов, уроков и версий курсов
- **Проверка домашних заданий**: Интерфейс для проверки и обратной связи по домашним заданиям
- **Коммуникация с пользователями**: Возможность отвечать на запросы поддержки
- **Аналитика**: Отслеживание активности пользователей и прогресса по курсам

## Структура базы данных

Бот использует SQLite для хранения данных со следующими основными таблицами:
- `users` - информация о пользователях
- `user_profiles` - расширенные профили пользователей
- `courses` - информация о курсах
- `course_versions` - версии курсов с разными уровнями доступа
- `user_courses` - записи пользователей на курсы
- `homework` - домашние задания и их статус
- `lesson_content_map` - связь между уроками и сообщениями в канале с контентом

## Система состояний пользователя

Бот использует систему состояний для отслеживания текущего контекста взаимодействия с пользователем:
- `MAIN_MENU` - основное меню
- `ACTIVATION` - процесс активации курса
- `RECEIVING_LESSON` - получение урока
- `HOMEWORK_PENDING` - ожидание отправки домашнего задания
- `SUPPORT` - режим общения с поддержкой
- и другие

## Интеграция с AI-агентом

Бот включает интеграцию с AI-агентом для обработки запросов поддержки. Сообщения пользователей пересылаются в административную группу, где они могут быть обработаны администраторами или AI-ассистентом.

## Команды бота

- `/start` - Начать работу с ботом
- `/help` - Показать список доступных команд
- `/activate` - Активировать курс по коду
- `/mycourses` - Показать активные курсы пользователя
- `/lesson` - Получить текущий урок
- `/progress` - Показать прогресс обучения
- `/support` - Связаться с поддержкой
- `/profile` - Просмотр профиля
- `/referral` - Информация о реферальной программе

## Установка и настройка

### Требования
- Python 3.12
- Библиотеки из requirements.txt

### Настройка окружения
1. Клонируйте репозиторий
2. Установите зависимости: `pip install -r requirements.txt` или `uv pip install -r requirements.txt`
3. Создайте файл с переменными окружения (.env) со следующими параметрами:

BOT_TOKEN=ваш_токен_бота
ADMIN_IDS=id1,id2,id3
ADMIN_GROUP_ID=id_группы_администраторов
LESSONS_CHANNEL_ID=id_канала_с_уроками

```plaintext

### Запуск бота
```bash
python antbot.py
 ```

## Структура проекта
- antbot.py - основной файл бота
- data/ - директория для хранения базы данных и логов
  - bot.db - файл базы данных SQLite
  - bot.log - файл логов
## Лицензия
Проект распространяется под лицензией MIT.

```plaintext

Теперь создам файл requirements.txt с необходимыми зависимостями:

```text:c%3A%5CTrae%5Cantbot3%5Crequirements.txt
aiogram==2.25.1
aiosqlite==0.19.0
python-dotenv==1.0.0
asyncio==3.4.3
 ```


 python -m antbot3