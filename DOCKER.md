# AntBot Docker –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

## üì¶ –ß—Ç–æ —Å–æ–∑–¥–∞–Ω–æ:

**–§–∞–π–ª—ã –¥–ª—è Docker:**
- `Dockerfile` - —Å–±–æ—Ä–∫–∞ –æ–±—Ä–∞–∑–∞ –±–æ—Ç–∞
- `docker-compose.yml` - –∑–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤ (–±–æ—Ç + –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥)
- `.dockerignore` - –∏—Å–∫–ª—é—á–∞–µ—Ç –ª–∏—à–Ω–∏–µ —Ñ–∞–π–ª—ã –∏–∑ –æ–±—Ä–∞–∑–∞
- `start.bat` / `start.sh` - —Å–∫—Ä–∏–ø—Ç—ã –∑–∞–ø—É—Å–∫–∞

**–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥:**
- Prometheus (–ø–æ—Ä—Ç 9090) - —Å–±–æ—Ä –º–µ—Ç—Ä–∏–∫
- Grafana (–ø–æ—Ä—Ç 3000) - –¥–∞—à–±–æ—Ä–¥—ã 
- Alertmanager (–ø–æ—Ä—Ç 9093) - –∞–ª–µ—Ä—Ç—ã –≤ Telegram

## üöÄ –ë—ã—Å—Ç—Ä—ã–π –∑–∞–ø—É—Å–∫ –Ω–∞ Windows

### –®–∞–≥ 1: –ó–∞–ø—É—Å–∫ Docker Desktop
–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ Docker Desktop –∑–∞–ø—É—â–µ–Ω.

### –®–∞–≥ 2: –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞
```cmd
cd C:\Mentor\3ant
start.bat
```

–ò–ª–∏ –≤ PowerShell:
```powershell
.\start.bat
```

### –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞:
- **–ë–æ—Ç –≤–µ–±—Ö—É–∫:** http://localhost:8080
- **Prometheus:** http://localhost:9090
- **Grafana:** http://localhost:3000 (admin/admin123)
- **Alertmanager:** http://localhost:9093

## üîß –ö–æ–º–∞–Ω–¥—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è

```cmd
# –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
docker-compose up -d

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ –±–æ—Ç–∞
docker-compose logs -f bot

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
docker-compose logs -f

# –û—Å—Ç–∞–Ω–æ–≤–∫–∞
docker-compose down

# –ü–æ–ª–Ω–∞—è –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∞
docker-compose up --build -d

# –°—Ç–∞—Ç—É—Å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
docker-compose ps

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Ç–æ–ª—å–∫–æ –±–æ—Ç–∞
docker-compose restart bot
```

## üåê –î–æ—Å—Ç—É–ø –∫ —Å–µ—Ä–≤–∏—Å–∞–º

| –°–µ—Ä–≤–∏—Å | URL | –õ–æ–≥–∏–Ω/–ü–∞—Ä–æ–ª—å |
|--------|-----|--------------|
| –ë–æ—Ç | http://localhost:8080 | - |
| Prometheus | http://localhost:9090 | - |
| Grafana | http://localhost:3000 | admin/admin123 |
| Alertmanager | http://localhost:9093 | - |

## üìä –ú–µ—Ç—Ä–∏–∫–∏

**–≠–Ω–¥–ø–æ–∏–Ω—Ç—ã –±–æ—Ç–∞:**
- `/metrics` - –≤—Å–µ –º–µ—Ç—Ä–∏–∫–∏ Prometheus
- `/health` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è
- `/health/live` - liveness probe
- `/health/ready` - readiness probe

**–û—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏:**
- `bot_commands_total` - –∫–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞
- `bot_lessons_sent_total` - –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ —É—Ä–æ–∫–∏
- `bot_active_users{period="24h"}` - –∞–∫—Ç–∏–≤–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
- `bot_errors_total` - –æ—à–∏–±–∫–∏
- `bot_uptime_seconds` - –≤—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã

## üö® –ê–ª–µ—Ä—Ç—ã

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤ Telegram –ø—Ä–∏:
- –ë–æ—Ç –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω
- –ú–Ω–æ–≥–æ –æ—à–∏–±–æ–∫
- –ó–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è –º–µ—Å—Ç–æ –Ω–∞ –¥–∏—Å–∫–µ
- –ù–∞–∫–æ–ø–∏–ª–∏—Å—å –î–ó –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏
- –ú–µ–¥–ª–µ–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã –∫ –ë–î/N8N

## üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### .env —Ñ–∞–π–ª
–û—Å–Ω–æ–≤–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ `.env`:
```
BOT_TOKEN=your_token
WEBHOOK_HOST=http://localhost:8080
WEB_SERVER_PORT=8080
```

### Volume-—ã (—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö):
- `./bot.db` - –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- `./logs` - –ª–æ–≥–∏
- `./settings.json` - –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

## üõ†Ô∏è –û—Ç–ª–∞–¥–∫–∞

### –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤:
```cmd
# –í—Å–µ –ª–æ–≥–∏ –±–æ—Ç–∞
docker-compose logs bot

# –ü–æ—Å–ª–µ–¥–Ω–∏–µ 100 —Å—Ç—Ä–æ–∫
docker-compose logs --tail=100 bot

# Live –ª–æ–≥–∏
docker-compose logs -f bot
```

### –í—Ö–æ–¥ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä:
```cmd
docker-compose exec bot bash
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –º–µ—Ç—Ä–∏–∫:
```cmd
curl http://localhost:8080/metrics
curl http://localhost:8080/health
```

## üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ

–ü—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –∫–æ–¥–∞:
```cmd
# –ü–µ—Ä–µ—Å–±–æ—Ä–∫–∞ –∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫
docker-compose up --build -d

# –ò–ª–∏ —Ç–æ–ª—å–∫–æ –±–æ—Ç–∞
docker-compose up --build bot -d
```

## ‚ö†Ô∏è –ß–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### 1. –ü–æ—Ä—Ç –∑–∞–Ω—è—Ç
```cmd
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø–æ—Ä—Ç
netstat -ano | findstr :8080

# –ò–∑–º–µ–Ω–∏—Ç—å –ø–æ—Ä—Ç –≤ docker-compose.yml
ports:
  - "8081:8080"  # localhost:8081 -> –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä:8080
```

### 2. –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–µ –Ω–∞–π–¥–µ–Ω–∞
–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `bot.db` —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞.

### 3. Docker –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è
```cmd
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å Docker
docker version

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å Docker Desktop
```

### 4. –ù–µ—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ Grafana
–ñ–¥–∏—Ç–µ 30-60 —Å–µ–∫—É–Ω–¥ –ø–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ - —Å–µ—Ä–≤–∏—Å—ã —Å—Ç–∞—Ä—Ç—É—é—Ç –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ.

## üìà –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

**Grafana –¥–∞—à–±–æ—Ä–¥:**
1. –û—Ç–∫—Ä–æ–π—Ç–µ http://localhost:3000
2. –õ–æ–≥–∏–Ω: admin/admin123
3. –í—ã–±–µ—Ä–∏—Ç–µ –¥–∞—à–±–æ—Ä–¥ "AntBot Dashboard"

**–û—Å–Ω–æ–≤–Ω—ã–µ –≥—Ä–∞—Ñ–∏–∫–∏:**
- –ê–∫—Ç–∏–≤–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
- –û—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ —É—Ä–æ–∫–∏
- –û—à–∏–±–∫–∏ –±–æ—Ç–∞
- –î–ó –Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–µ
- –í—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã

## üöÄ Production –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—å

–î–ª—è —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è –Ω–∞ VPS:
1. –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–µ–∫—Ç –Ω–∞ —Å–µ—Ä–≤–µ—Ä
2. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å `WEBHOOK_HOST=https://your-domain.com`
3. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç
4. –ó–∞–ø—É—Å—Ç–∏—Ç—å `docker-compose up -d`

–í—Å–µ –≥–æ—Ç–æ–≤–æ! üéâ